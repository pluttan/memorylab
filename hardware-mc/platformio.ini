; PlatformIO Configuration for Memory Lab on Microcontrollers
; Универсальный проект для различных платформ

[platformio]
default_envs = esp32
src_dir = .
include_dir = experiments

; ==================== ESP32 ====================
[env:esp32]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
build_flags = 
    -DPLATFORM_ESP
    -DESP32

; ESP32-S3 с PSRAM
[env:esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200
build_flags = 
    -DPLATFORM_ESP
    -DESP32
    -DBOARD_HAS_PSRAM

; ==================== STM32 ====================
[env:stm32f103]
platform = ststm32
board = bluepill_f103c8
framework = arduino
monitor_speed = 115200
build_flags = 
    -DPLATFORM_STM32
    -DSTM32F1
upload_protocol = stlink

[env:stm32f401]
platform = ststm32
board = blackpill_f401cc
framework = arduino
monitor_speed = 115200
build_flags = 
    -DPLATFORM_STM32
    -DSTM32F4
upload_protocol = stlink

[env:stm32f411]
platform = ststm32
board = blackpill_f411ce
framework = arduino
monitor_speed = 115200
build_flags = 
    -DPLATFORM_STM32
    -DSTM32F4
upload_protocol = stlink

[env:nucleo_f446re]
platform = ststm32
board = nucleo_f446re
framework = arduino
monitor_speed = 115200
build_flags = 
    -DPLATFORM_STM32
    -DSTM32F4

[env:nucleo_f746zg]
platform = ststm32
board = nucleo_f746zg
framework = arduino
monitor_speed = 115200
build_flags = 
    -DPLATFORM_STM32
    -DSTM32F7

; ==================== Arduino AVR ====================
[env:uno]
platform = atmelavr
board = uno
framework = arduino
monitor_speed = 115200
build_flags = 
    -DPLATFORM_AVR

[env:mega]
platform = atmelavr
board = megaatmega2560
framework = arduino
monitor_speed = 115200
build_flags = 
    -DPLATFORM_AVR

[env:nano]
platform = atmelavr
board = nanoatmega328
framework = arduino
monitor_speed = 115200
build_flags = 
    -DPLATFORM_AVR

; ==================== Raspberry Pi Pico ====================
[env:pico]
platform = raspberrypi
board = pico
framework = arduino
monitor_speed = 115200
build_flags = 
    -DPLATFORM_ARM_GENERIC

; ==================== ESP8266 ====================
[env:esp8266]
platform = espressif8266
board = nodemcuv2
framework = arduino
monitor_speed = 115200
build_flags = 
    -DPLATFORM_ESP
    -DESP8266
